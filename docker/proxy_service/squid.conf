http_port 8080
http_port 8530
http_port 53

acl localhost src 127.0.0.1/32
acl to_localhost dst 127.0.0.0/8
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 21
acl Safe_ports port 443
acl Safe_ports port 70
acl Safe_ports port 210
acl Safe_ports port 1025-65535
acl Safe_ports port 280
acl Safe_ports port 488
acl Safe_ports port 591
acl Safe_ports port 777
acl Safe_ports port 8530
acl Safe_ports port 53

acl industrial_network src 192.168.1.0/24

acl to_wsus_veolia dstdomain 10.0.11.42
acl to_proxy_veolia dstdomain 10.0.22.42
acl to_dns_veolia dstdomain 10.0.15.42

http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports
http_access allow localhost
http_access allow industrial_network
http_access deny all

cache_peer 10.0.11.42 parent 8530 0 no-query default
cache_peer 10.0.22.42 parent 8080 0 no-query default
cache_peer 10.0.15.42 parent 53 0 no-query default

cache_mem 64 MB
maximum_object_size 4096 KB
cache_dir ufs /var/spool/squid 100 16 256
coredump_dir /var/spool/squid

access_log /var/log/squid/access.log squid
cache_log /var/log/squid/cache.log
logfile_rotate 10

request_header_access X-Forwarded-For deny all
reply_header_access Server deny all
reply_header_access X-Cache deny all
reply_header_access X-Cache-Lookup deny all
visible_hostname veolia-cyber-hub-proxy